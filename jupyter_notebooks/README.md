# Jupyter Notebooks for Python Scripts #

## Scripts I wrote for this project ##

* allen_cell_type_access.ipynb

* matching-cell_type-to-cells.ipynb
** Generate ../result/cell_type.tsv, which contains each cells' feature details as well as e-type, m-type, and me-type of each cell according to Allen Institute's publicaiton on classification Gouwens et al., 2019
** Generate ../result/cell_type_lite.tsv, which is a lite version of the above file, only containing informative columns and only of cells with assigned me-type
** Generate ../result/cell_alias_df.tsv, which adds cell set nomenclature and alias information to the above file. The nomenclature information comes from Allen's Miller et al 2020 eLife paper. 

* neuron_volume.ipynb
** Generate ../result/total_volume.tsv
** This cell volume is calculated with the neuron_morphology package on the SWC reconstruction files from Allen

* compare-neuron_morphology-vs-Vaa3D.ipynb
** This file is to see whether the cell volume generated by neuron_volume.ipynb matches the precalcualted total cell volume from Allen. They do differ in volume, but do strongly correlate with each other. 
** Generate ../result/extended_nm_Vaa3D_volume.tsv, containing the cell volume calcualted with both methods
** Generate ../result/nm_Vaa3D_volume.tsv, containing the cell volume calcualted with both methods, only cells with both volume avaliable
** Generate ../result/Vaa3D_volume.tsv, containing the cell volume precalcualted from Allen

* merge-volume-FR-nomenclature.ipynb
** Cells with volume (either Vaa3D or neuron_morphology claculated) and average firing rate avaliable, matched with me-type and nomenclature. Cells without me-type are kept and nomenclature entered as nan. 
** Generate ../result/volume_FR_nomenclature.tsv, human_volume_FR_nomenclature.tsv, mouse_volume_FR_nomenclature.tsv. 

* calculate_capacitance.ipynb
** Calculate each neuron (both human and mouse neurons)'s capacitance based on input resistance ef__ri and the RC time constant ef__tau based on the equation tau=RC 
** Input ../result/volume_FR_nomenclature.tsv
** Output ../result/volume_FR_nomenclature_capacitance.tsv and ../result/not_truncated.volume_FR_nomenclature_capacitance.tsv; "not_truncated" refers to neurons not labeled with "truncated" in the "tag__apical" column. Some spiny neurons were labeled with "truncated" because part of the apical dendrite was not captured in morphology scan. 

## Downloaded Tutorial Scripts ##

* cell_types.ipynb is an example downloaded from allen institute's example page for the Allen SDK: https://alleninstitute.github.io/AllenSDK/examples.html on May 17th, 2021

* image_download.ipynb is an example downloaded from allen institute's example page as well. 

* ecephys_data_access.ipynb is an example electrophysiology data access tutorial downloaded from https://allensdk.readthedocs.io/en/latest/_static/examples/nb/ecephys_quality_metrics.html

* pyLmeasure_usage.ipynb is an example of the pyLmeasure usages downloaded from pyLmeasure documentation page